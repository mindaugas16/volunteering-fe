<app-events-search-panel></app-events-search-panel>
<div class="mt-4 mb-4" *ngIf="events && events.length">
  <div class="container">
    <div class="is-flex justify-content-between">
      <div class="is-flex align-items-center">
        <span class="mr-4 has-text-weight-semibold is-5">
          {{events.length}} Events
        </span>
        <app-sort
          [sortItems]="sortItems"
          (sortChange)="onSortChange($event)"
        ></app-sort>
      </div>
      <div class="is-flex align-items-center">
        <span class="icon has-text-primary">
          <i class="fa fa-th"></i>
        </span>
        <span class="icon mr-2">
          <i class="fa fa-list"></i>
        </span>
        <button class="button is-rounded"
                [routerLink]="['/event', 'new']"
        >
          Create new
          <span class="icon ml-1 has-text-success">
            <i class="fa fa-plus"></i>
          </span>
        </button>
      </div>
    </div>
    <div class="columns is-multiline mt-4">
      <a class="column is-one-quarter-desktop is-one-third-tablet"
         *ngFor="let event of events"
         [routerLink]="['/event', 'details', event._id]"
      >
        <div class="card is-shadowless">
          <div class="card-image">
            <figure class="image is-4by3">
              <img src="https://bulma.io/images/placeholders/1280x960.png" alt="Placeholder image">
            </figure>
          </div>
          <div class="card-content">
            <div class="media">
              <div class="media-content">
                <p class="title is-4">
                  {{ event.title }}
                </p>
              </div>
            </div>

            <div class="content">
              <div>
                <a
                  *ngFor="let tag of event.tags"
                  href="#"
                >
                  #{{tag}}
                </a>
              </div>
              <time>
                {{event.date | date}}
              </time>
            </div>
          </div>
        </div>
      </a>
    </div>
  </div>
</div>
